---
title: "[프로그래머스] 즐겨찾기가 가장 많은 식당 정보 출력하기 - SQL"
date: 2025-01-13  
categories: [코딩테스트 연습, SQL코테]
tags: [SQL, GROUP BY]
layout: post
author: mongblang
---

# 📌&nbsp; **프로그래머스 SQL 고득점 Kit - GROUP BY 문제 5**
[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/131123)  

# 📝&nbsp; **문제**
---
![problem](/assets/img/codingtest-post-img/PGSQL_groupby5-1.png)


## ✏️&nbsp; **입출력 예시**
---
![problem2](/assets/img/codingtest-post-img/PGSQL_groupby5-2.png)



&nbsp;  

&nbsp;   

## **내 풀이**  
---  

```sql
SELECT A.FOOD_TYPE, A.REST_ID, A.REST_NAME, B.FAVORITES
FROM REST_INFO A JOIN (SELECT FOOD_TYPE, MAX(FAVORITES) AS FAVORITES
                       FROM REST_INFO 
                       GROUP BY FOOD_TYPE) B 
                 ON A.FOOD_TYPE = B.FOOD_TYPE AND 
                 A.FAVORITES = B.FAVORITES
ORDER BY FOOD_TYPE DESC
```

#### **코드 해설**
1. 각 음식종류별로 즐겨찾기의 최대값을 먼저 찾기 - 서브쿼리
2. 서브쿼리에서 구한 각 음식의 최대 즐겨찾기값을 가진 식당의 상세 정보 (ID, 식당 이름)을 원본테이블에서 찾아야 하므로 원본 테이블과 서브쿼리를 음식 종류와 즐겨찾기를 기준으로 조인한다.
3. SELECT문에서 음식 종류, 식당ID, 식당이름은 원본테이블에서, 즐겨찾기값은 서브쿼리에서 가져와 조회한다.  
4. 음식 종류를 기준으로 내림차순 정렬한다. 

&nbsp;   

