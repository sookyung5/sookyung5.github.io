---
title: "[프로그래머스] Lv.2 전력망 둘로 나누기 - Python"
date: 2025-01-08  
categories: [코딩테스트 연습, 프로그래머스]
tags: [Python, Algorithm]
layout: post
author: mongblang
---

# 📌&nbsp; **전력망 둘로 나누기**
[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/86971)  

# 📝&nbsp; **문제**
---
![문제](/assets/img/codingtest-post-img/PG86971-1.png)

## ✏️&nbsp; **입출력 예시**
---
![예시](/assets/img/codingtest-post-img/PG86971-2.png) 

&nbsp;  

&nbsp;   



## **내 풀이**  
--- 

```python
def solution(n, wires):
    elect_map = [[] for _ in range(n+1)]
    for a,b in wires:
        elect_map[a].append(b)
        elect_map[b].append(a)

    def dfs(node, parent):
        cnt = 1
        for child in elect_map[node]:
            if child != parent:
                cnt += dfs(child, node)
        return cnt 

    min_diff = 100
    
    for a,b in wires:
        elect_map[a].remove(b)
        elect_map[b].remove(a)

        cnt_a = dfs(a,b) 
        cnt_b = n - cnt_a 

        min_diff = min(min_diff, abs(cnt_a - cnt_b))
        elect_map[a].append(b)
        elect_map[b].append(a)

    return min_diff
```


#### **코드 해설**  
1. 각 전력망의 송전탑 번호(노드)를 담을 graph를 생성한다. 송전탑이 1부터 시작하므로 n+1개 생성한다. 
2. 전선이 양쪽에 있기 때문에 양방향으로 노드를 추가한다.
3. dfs 함수를 내장함수로 구현한다. 자기자신을 포함해야하므로 cnt를 1로 설정하고, 반복문을 통해 현재 노드의 자식 노드를 방문하는 로직을 구현한다.
4. 역방향 탐색을 방지하기 위해 부모 노드가 아닌 경우만 탐색하도록 한다. 
5. 자식노드 쪽으로 이동하고 개수를 카운트 한 뒤 cnt에 더해준다.
6. 송전탑의 개수가 100개 이하이므로 최솟값과 비교할 min_diff 변수를 100으로 설정한 뒤 간선을 제거한다. 
7. 한쪽 전력망(a)의 송전탑 개수를 재귀호출로 구한 뒤 전체에서 뺀다. 
8. 최솟값을 갱신하고 다른 탐색을 위해 제거했던 간선을 다시 복원한다. 구한 최솟값을 반환하면 끝

&nbsp;  

## **다른 풀이**
---

```python  
def solution(n, wires):
    ans = n
    for sub in (wires[i+1:] + wires[:i] for i in range(len(wires))):
        s = set(sub[0])
        [s.update(v) for _ in sub for v in sub if set(v) & s]
        ans = min(ans, abs(2 * len(s) - n))
    return ans
```

#### **코드 해설**  
1. i번째 wire를 제거한 나머지 모든 wire리스트를 sub로 만들어서 각 wire 하나를 끊는 경우를 표현한다.  
(예: i=0 → wires[1:] + wires[:0] → wire0 제거)
2. 남아 있는 wire 집합 sub 중 첫 번째 wire의 두 노드로 시작하여 새 전력망의 시작점으로 사용한다.
3. sub의 모든 wire(v) 중에서 현재 s와 하나라도 겹치는 노드가 있으면 (set(v) & s) v의 노드들을 s에 추가하고, 이를 sub 전체에 대해 여러 번 반복하면서
s가 연결 가능한 모든 노드를 흡수하도록 한다. 즉, 연결된 모든 노드를 만나면 s에 추가하면서 전력망을 확장하는 과정이다. 
4. 전체 노드가 n개이므로 첫 번째 전력망 크기와 두 번째 전력망 크기의 차이의 최솟값을 갱신한 후 반환한다. 

&nbsp;   
&nbsp;  
